<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>C√¢u T√¥m T√≠ch</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <div id="app">
        <!-- TomTich UI - Game c√¢u t√¥m t√≠ch (Vertical) -->
        <div v-if="tomtichVisible" id="tomtich-container">
            <div class="tomtich-wrapper">
                <button @click="handleTomTichClose" class="tomtich-close-btn">‚úñ</button>
                
                <div class="tomtich-scene-vertical">
                    <!-- C√°t b√™n tr√°i -->
                    <div class="sand-left-vertical">
                        <div class="sand-decorations">
                            <span class="deco">üêö</span>
                            <span class="deco">‚≠ê</span>
                        </div>
                    </div>
                    
                    <!-- Hang t√¥m t√≠ch ·ªü gi·ªØa (d·ªçc) -->
                    <div class="cave-vertical" :class="{ 'shake': shrimpPulling }">
                        <!-- D√¢y c√¢u - chi·ªÅu d√†i thay ƒë·ªïi theo l·ª±c cƒÉng -->
                        <div v-if="tomtichGameStarted" class="fishing-line-vertical" :style="{ height: fishingLineHeight + '%' }">
                            <div class="hook-vertical">üêö</div>
                        </div>
                        
                        <!-- T√¥m t√≠ch - v·ªã tr√≠ thay ƒë·ªïi theo l·ª±c cƒÉng -->
                        <div v-if="!tomtichGameEnded && tomtichGameStarted" 
                             class="shrimp-container" 
                             :style="{ top: shrimpPosition + '%' }">
                            <div class="shrimp-icon" :class="{ 'pulling': shrimpPulling }">ü¶û</div>
                        </div>
                        
                        <!-- Hi·ªáu ·ª©ng t√¥m gi·∫≠t -->
                        <div v-if="shrimpPulling" class="pull-warning">‚ö†Ô∏è T√îM GI·∫¨T M·∫†NH!</div>
                        
                        <!-- ƒê√°y hang -->
                        <div class="cave-bottom"></div>
                    </div>
                    
                    <!-- C√°t b√™n ph·∫£i -->
                    <div class="sand-right-vertical">
                        <div class="sand-decorations">
                            <span class="deco">üåä</span>
                            <span class="deco">üêö</span>
                        </div>
                    </div>
                    
                    <!-- Thanh l·ª±c cƒÉng b√™n ngo√†i c√°t ph·∫£i -->
                    <div class="timing-container-outside">
                        <div v-if="tomtichGameStarted && !tomtichGameEnded" class="tension-bar-container">
                            <div class="tension-label">L·ª∞C CƒÇNG</div>
                            <div class="tension-bar">
                                <!-- V√πng nguy hi·ªÉm tr√™n (l·ª±c th·∫•p - t√¥m tho√°t) -->
                                <div class="tension-zone danger-low-top">
                                    <span class="zone-label">T√îM THO√ÅT</span>
                                </div>
                                <!-- V√πng an to√†n (xanh/v√†ng) -->
                                <div class="tension-zone safe-zone">
                                    <span class="zone-label">AN TO√ÄN</span>
                                </div>
                                <!-- V√πng nguy hi·ªÉm d∆∞·ªõi (l·ª±c cao - ƒë·ª©t d√¢y) -->
                                <div class="tension-zone danger-high-bottom">
                                    <span class="zone-label">ƒê·ª®T D√ÇY</span>
                                </div>
                                <!-- Thanh l·ª±c hi·ªán t·∫°i -->
                                <div class="tension-indicator" :style="{ top: tensionLevel + '%' }">
                                    <span class="indicator-arrow">‚óÄ</span>
                                    <span class="indicator-value">{{ Math.round(100 - tensionLevel) }}%</span>
                                    <span class="indicator-arrow">‚ñ∂</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- N√∫t ƒëi·ªÅu khi·ªÉn -->
                <div class="tomtich-controls">
                    <button v-if="!tomtichGameStarted && !tomtichGameEnded" @click="startTomTichGame" class="tomtich-btn start">
                        üé£ B·∫Øt ƒë·∫ßu c√¢u
                    </button>
                    <div v-if="tomtichGameStarted && !tomtichGameEnded" class="control-instructions">
                        <div class="instruction-item">
                            <kbd>GI·ªÆ SPACE</kbd> <span>K√©o d√¢y l√™n (tƒÉng l·ª±c)</span>
                        </div>
                        <div class="instruction-item">
                            <kbd>NH·∫¢ SPACE</kbd> <span>Th·∫£ l·ªèng (gi·∫£m l·ª±c)</span>
                        </div>
                        <div class="progress-info">
                            <div class="time-remaining" :class="{ 'time-warning': timeRemaining <= 5 }">
                                <span class="time-icon">‚è±Ô∏è</span>
                                <span class="time-text">{{ Math.ceil(timeRemaining) }}s</span>
                            </div>
                            <div class="progress-bar-container">
                                <div class="progress-bar" :style="{ width: catchProgress + '%' }"></div>
                            </div>
                            <span class="progress-text">Ti·∫øn ƒë·ªô: {{ Math.round(catchProgress) }}%</span>
                        </div>
                    </div>
                </div>
                
                <!-- K·∫øt qu·∫£ -->
                <div v-if="tomtichGameEnded" class="tomtich-result">
                    <div class="result-icon">{{ tomtichResultSuccess ? 'ü¶û' : 'üóëÔ∏è' }}</div>
                    <div class="result-text" :class="tomtichResultSuccess ? 'success' : 'fail'">
                        {{ resultMessage }}
                    </div>
                </div>
                
                <!-- H∆∞·ªõng d·∫´n -->
                <div v-if="!tomtichGameStarted && !tomtichGameEnded" class="tomtich-guide">
                    <p><strong>üéÆ C√°ch ch∆°i:</strong></p>
                    <p>Gi·ªØ v√† nh·∫£ ph√≠m SPACE ƒë·ªÉ ƒëi·ªÅu khi·ªÉn l·ª±c cƒÉng d√¢y c√¢u</p>
                    <p>Gi·ªØ thanh l·ª±c trong v√πng AN TO√ÄN ƒë·ªÉ c√¢u t√¥m t√≠ch th√†nh c√¥ng!</p>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Force reload by adding version query -->
    <script src="https://cdn.jsdelivr.net/npm/vue@3.3.4/dist/vue.global.prod.js"></script>
    <script src="script.js"></script>
</body>
</html>
